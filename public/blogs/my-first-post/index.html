<!DOCTYPE html>
<html><head lang="en"><script src="/indiecoder/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=indiecoder/livereload" data-no-instant defer></script>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge"><title>React Theme Switcher Hook Tutorial - IndieCoder</title><meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="Learn how to create a custom theme switcher hook in React to implement dark/light mode in your applications" />
	<meta property="og:image" content=""/>
	<meta property="og:title" content="React Theme Switcher Hook Tutorial" />
<meta property="og:description" content="Learn how to create a custom theme switcher hook in React to implement dark/light mode in your applications" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/indiecoder/blogs/my-first-post/" /><meta property="article:section" content="blogs" />
<meta property="article:published_time" content="2025-01-10T00:00:00+00:00" />
<meta property="article:modified_time" content="2025-01-10T00:00:00+00:00" />

<meta name="twitter:card" content="summary"/><meta name="twitter:title" content="React Theme Switcher Hook Tutorial"/>
<meta name="twitter:description" content="Learn how to create a custom theme switcher hook in React to implement dark/light mode in your applications"/>
<link rel="stylesheet" href="http://localhost:1313/indiecoder/css/simple-icons.96a04481ed361b77f631ece0a17677052d42318f13c149b220a4ef29ce65e50a.css" type="text/css"><link rel="stylesheet" href="http://localhost:1313/indiecoder/css/simple-icons.96a04481ed361b77f631ece0a17677052d42318f13c149b220a4ef29ce65e50a.css" type="text/css"><link rel="stylesheet" href="http://localhost:1313/indiecoder/css/simple-icons.96a04481ed361b77f631ece0a17677052d42318f13c149b220a4ef29ce65e50a.css" type="text/css">
        <link href="http://localhost:1313/indiecoder/css/fonts.2c2227b81b1970a03e760aa2e6121cd01f87c88586803cbb282aa224720a765f.css" rel="stylesheet">
	

	
	<link rel="stylesheet" type="text/css" media="screen" href="http://localhost:1313/indiecoder/css/main.9be370f7595e22e43711f6402fb759512261151b1bfc90307cd6996996a0a44a.css" />
		<link id="darkModeStyle" rel="stylesheet" type="text/css" href="http://localhost:1313/indiecoder/css/dark.c67e7e2708599ac24161cc06879f8cbc7798ad692dcfb10f38af858b9a302bd5.css"  disabled />
</head>
<body>
        <div class="content"><header>
	<div class="main">
		<a href="http://localhost:1313/">IndieCoder</a>
	</div>
	<nav>
		
		<a href="/indiecoder/">Home</a>
		
		<a href="/indiecoder/blogs">Blogs</a>
		
		<a href="/indiecoder/about">About</a>
		
		<a href="/indiecoder/tags">Tags</a>
		
		| <span id="dark-mode-toggle" onclick="toggleTheme()"><svg class="feather">
   <use href="/indiecoder/svg/feather-sprite.51cf5647cb1987f769b616558f2620fd9423d72058490231b391bf6aa3744b55.svg#sun" />
</svg></span>
		<script src="http://localhost:1313/indiecoder/js/themetoggle.js"></script>
		
	</nav>
</header>

<main>
  <article>
    <div class="post-container">
      
      <div class="post-content">
        <div class="title">
          <h1 class="title">React Theme Switcher Hook Tutorial</h1>
          <div class="meta">Posted on Jan 10, 2025 <span class="draft-label">DRAFT</span> </div>
        </div>
        
        <div class="tldr">
          <strong>tl;dr:</strong>
          Quickly implement a dark/light mode in your React applications using a custom theme switcher hook.
        </div>
        <section class="body">
          <p>In this tutorial, I&rsquo;ll walk you through the process of creating a custom theme switcher hook in React. This hook will allow you to easily implement a dark/light mode in your React applications.</p>
<p>Before we get started, make sure you have a basic understanding of React and have a React project set up and ready to work on. By the end of this tutorial, you&rsquo;ll be able to:</p>
<ol>
<li>
<p><strong>Understand the React Hooks:</strong> Learn how a React hook works and how they can be used to manage the application state</p>
</li>
<li>
<p><strong>Create a Custom Hook:</strong> Step-by-step, we&rsquo;ll create a custom theme switcher hook</p>
</li>
<li>
<p><strong>Implement Dark/Light Mode:</strong> You&rsquo;ll be able to easily implement a dark/light mode toggle in your React app.</p>
</li>
<li>
<p><strong>Save Theme Preference:</strong> I&rsquo;ll show you how to save the user&rsquo;s preferred theme locally so it persists across sessions</p>
</li>
<li>
<p><strong>Reusable Code:</strong> Once you&rsquo;ve created this custom hook, you can easily reuse it in multiple projects.</p>
</li>
</ol>
<h2 id="step-1-import-react-dependencies">Step 1: Import React Dependencies</h2>
<p>In your React project, start by importing two important dependencies: <code>useEffect</code> and <code>useState</code> from the &ldquo;react&rdquo; library. These will help us manage the theme-switching logic.</p>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#fe8019">import</span> { useEffect, useState } from <span style="color:#b8bb26">&#34;react&#34;</span>;
</span></span></code></pre></div><h2 id="step-2-create-the-custom-hook">Step 2: Create the Custom Hook</h2>
<p>Now, let&rsquo;s create our custom theme switcher hook. This hook will handle theme detection and switching.</p>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#fe8019">const</span> useThemeSwitcher <span style="color:#fe8019">=</span> () =&gt; {
</span></span><span style="display:flex;"><span>  <span style="color:#928374;font-style:italic">// Define the media query for dark mode preference
</span></span></span><span style="display:flex;"><span><span style="color:#928374;font-style:italic"></span>  <span style="color:#fe8019">const</span> preferDarkQuery <span style="color:#fe8019">=</span> <span style="color:#b8bb26">&#34;(prefer-color-scheme: dark)&#34;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#928374;font-style:italic">// Initialize state to store the current theme
</span></span></span><span style="display:flex;"><span><span style="color:#928374;font-style:italic"></span>  <span style="color:#fe8019">const</span> [mode, setMode] <span style="color:#fe8019">=</span> useState(<span style="color:#b8bb26">&#34;&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#928374;font-style:italic">// Use the useEffect hook to set the initial theme
</span></span></span><span style="display:flex;"><span><span style="color:#928374;font-style:italic"></span>  useEffect(() =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#928374;font-style:italic">// Check if a theme is stored in local storage
</span></span></span><span style="display:flex;"><span><span style="color:#928374;font-style:italic"></span>    <span style="color:#fe8019">const</span> localMode <span style="color:#fe8019">=</span> localStorage.getItem(<span style="color:#b8bb26">&#34;theme&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#928374;font-style:italic">// Check if the user prefers dark mode
</span></span></span><span style="display:flex;"><span><span style="color:#928374;font-style:italic"></span>    <span style="color:#fe8019">const</span> prefersDark <span style="color:#fe8019">=</span> <span style="color:#fabd2f">window</span>.matchMedia(preferDarkQuery).matches;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#928374;font-style:italic">// Set the initial theme based on local storage or user preference
</span></span></span><span style="display:flex;"><span><span style="color:#928374;font-style:italic"></span>    <span style="color:#fe8019">if</span> (localMode) {
</span></span><span style="display:flex;"><span>      setMode(localMode);
</span></span><span style="display:flex;"><span>    } <span style="color:#fe8019">else</span> <span style="color:#fe8019">if</span> (prefersDark) {
</span></span><span style="display:flex;"><span>      setMode(<span style="color:#b8bb26">&#34;dark&#34;</span>);
</span></span><span style="display:flex;"><span>    } <span style="color:#fe8019">else</span> {
</span></span><span style="display:flex;"><span>      setMode(<span style="color:#b8bb26">&#34;light&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }, []);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#928374;font-style:italic">// Use another useEffect hook to update the theme when it changes
</span></span></span><span style="display:flex;"><span><span style="color:#928374;font-style:italic"></span>  useEffect(() =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#928374;font-style:italic">// Update local storage with the current theme
</span></span></span><span style="display:flex;"><span><span style="color:#928374;font-style:italic"></span>    <span style="color:#fe8019">if</span> (mode <span style="color:#fe8019">===</span> <span style="color:#b8bb26">&#34;dark&#34;</span>) {
</span></span><span style="display:flex;"><span>      localStorage.setItem(<span style="color:#b8bb26">&#34;theme&#34;</span>, <span style="color:#b8bb26">&#34;dark&#34;</span>);
</span></span><span style="display:flex;"><span>      <span style="color:#fabd2f">document</span>.documentElement.classList.add(<span style="color:#b8bb26">&#34;dark&#34;</span>);
</span></span><span style="display:flex;"><span>    } <span style="color:#fe8019">else</span> {
</span></span><span style="display:flex;"><span>      localStorage.setItem(<span style="color:#b8bb26">&#34;theme&#34;</span>, <span style="color:#b8bb26">&#34;light&#34;</span>);
</span></span><span style="display:flex;"><span>      <span style="color:#fabd2f">document</span>.documentElement.classList.remove(<span style="color:#b8bb26">&#34;dark&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }, [mode]);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#928374;font-style:italic">// Return the current theme and a function to switch themes
</span></span></span><span style="display:flex;"><span><span style="color:#928374;font-style:italic"></span>  <span style="color:#fe8019">return</span> [mode, setMode];
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fe8019">export</span> <span style="color:#fe8019">default</span> useThemeSwitcher;
</span></span></code></pre></div><h2 id="step-3-how-the-hook-works">Step 3: How the Hook Works</h2>
<ul>
<li>
<p>The <code>preferDarkQuery</code> variable is set to check if the user prefers dark mode. It uses a special CSS media query.</p>
</li>
<li>
<p>We initialize the <code>mode</code> state variable to keep track of the current theme (light or dark).</p>
</li>
<li>
<p>In the first <code>useEffect</code>, we check if there&rsquo;s a stored theme in local storage. If not, we check if the user&rsquo;s system prefers dark mode. This sets the initial theme.</p>
</li>
<li>
<p>In the second <code>useEffect</code>, we update the theme when it changes. We store the current theme in local storage and add/remove the &ldquo;dark&rdquo; class to the HTML root element, which helps with styling.</p>
</li>
</ul>
<h2 id="step-4-using-the-hook">Step 4: Using the Hook</h2>
<p>Now that you&rsquo;ve created the custom hook, you can use it in your React components. Here&rsquo;s how you can do it:</p>
<div class="highlight"><pre tabindex="0" style="color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#fe8019">import</span> React from <span style="color:#b8bb26">&#34;react&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#fe8019">import</span> useThemeSwitcher from <span style="color:#b8bb26">&#34;./useThemeSwitcher&#34;</span>; <span style="color:#928374;font-style:italic">// Import the custom hook
</span></span></span><span style="display:flex;"><span><span style="color:#928374;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#fe8019">function</span> App() {
</span></span><span style="display:flex;"><span>  <span style="color:#fe8019">const</span> [theme, setTheme] <span style="color:#fe8019">=</span> useThemeSwitcher(); <span style="color:#928374;font-style:italic">// Use the hook to get the current theme and the setTheme function
</span></span></span><span style="display:flex;"><span><span style="color:#928374;font-style:italic"></span>
</span></span><span style="display:flex;"><span>  <span style="color:#928374;font-style:italic">// Create a function to toggle the theme
</span></span></span><span style="display:flex;"><span><span style="color:#928374;font-style:italic"></span>  <span style="color:#fe8019">const</span> toggleTheme <span style="color:#fe8019">=</span> () =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#fe8019">if</span> (theme <span style="color:#fe8019">===</span> <span style="color:#b8bb26">&#34;light&#34;</span>) {
</span></span><span style="display:flex;"><span>      setTheme(<span style="color:#b8bb26">&#34;dark&#34;</span>);
</span></span><span style="display:flex;"><span>    } <span style="color:#fe8019">else</span> {
</span></span><span style="display:flex;"><span>      setTheme(<span style="color:#b8bb26">&#34;light&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  };
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#fe8019">return</span> (
</span></span><span style="display:flex;"><span>    <span style="color:#fe8019">&lt;</span>div className<span style="color:#fe8019">=</span>{<span style="color:#b8bb26">`App </span><span style="color:#b8bb26">${</span>theme<span style="color:#b8bb26">}</span><span style="color:#b8bb26">`</span>}<span style="color:#fe8019">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#fe8019">&lt;</span>h1<span style="color:#fe8019">&gt;</span>Theme Switcher Example<span style="color:#fe8019">&lt;</span>/h1&gt;
</span></span><span style="display:flex;"><span>      <span style="color:#fe8019">&lt;</span>button onClick<span style="color:#fe8019">=</span>{toggleTheme}<span style="color:#fe8019">&gt;</span>Toggle Theme<span style="color:#fe8019">&lt;</span>/button&gt;
</span></span><span style="display:flex;"><span>      <span style="color:#fe8019">&lt;</span>p<span style="color:#fe8019">&gt;</span>Current Theme<span style="color:#fe8019">:</span> {theme}<span style="color:#fe8019">&lt;</span>/p&gt;
</span></span><span style="display:flex;"><span>    <span style="color:#fe8019">&lt;</span>/div&gt;
</span></span><span style="display:flex;"><span>  );
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fe8019">export</span> <span style="color:#fe8019">default</span> App;
</span></span></code></pre></div><p>In this example, we import the <code>useThemeSwitcher</code> hook, use it to get the current theme (<code>theme</code>) and a function to change the theme (<code>setTheme</code>), and then create a button to toggle between light and dark themes.</p>
<p>That&rsquo;s it! You&rsquo;ve successfully created a custom theme switcher hook in React. Now, when you click the &ldquo;Toggle Theme&rdquo; button, the theme of your app will change.</p>

        </section>
        <div class="post-tags">
          
          
          <nav class="nav tags">
            <ul class="tags">
              
              <li><a href="/tags/react">react</a></li>
              
              <li><a href="/tags/frontend">frontend</a></li>
              
              <li><a href="/tags/js">js</a></li>
              
            </ul>
          </nav>
          
          
        </div>
      </div>

      
      
      <div class="toc">
        <strong>Table of contents:</strong>
        <nav id="TableOfContents">
  <ul>
    <li><a href="#step-1-import-react-dependencies">Step 1: Import React Dependencies</a></li>
    <li><a href="#step-2-create-the-custom-hook">Step 2: Create the Custom Hook</a></li>
    <li><a href="#step-3-how-the-hook-works">Step 3: How the Hook Works</a></li>
    <li><a href="#step-4-using-the-hook">Step 4: Using the Hook</a></li>
  </ul>
</nav>
      </div>
      
    </div>

    <div id="disqus_thread"></div>
<script type="text/javascript">
    (function () {
        
        
        if (window.location.hostname == "localhost")
            return;

        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        var disqus_shortname = 'heinthant';
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by
        Disqus.</a></noscript>
<a href="http://disqus.com/" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</article>
</main>
<footer>
  <div style="display:flex"><a class="soc" href="https://github.com/indiecodermm/" rel="me" title="GitHub"><i class="si si-github"></i></a><a class="border"></a><a class="soc" href="https://twitter.com/hthantoo/" rel="me" title="BlueSky"><i class="si si-bluesky"></i></a><a class="border"></a><a class="soc" href="https://www.linkedin.com/in/hthantoo/" rel="me" title="LinkedIn"><i class="si si-linkedin"></i></a><a class="border"></a></div>
  <div class="footer-info">
    2025  Â© Hein Thant |  <a
      href="https://github.com/athul/archie">Archie Theme</a> | Built with <a href="https://gohugo.io">Hugo</a>
  </div>
</footer>

</div>
    </body>
</html>
